<h2  mat-dialog-title>{{ modalTitle }}</h2>
<form
    class="p-3"
    autocomplete="off"
    [formGroup]="chargeFormGroup"
    (ngSubmit)="confirmSave()"
>
    <mat-dialog-content>

        <div
            fxLayout.xs="row wrap"
            fxLayout.sm="row wrap"
            fxLayout.md="row wrap"
            fxLayout.lg="row wrap"
            fxLayout.xl="row wrap"
            fxLayoutAlign="space-center center"
        >

            <div
                fxFlex.xl="100%"
                fxFlex.lg="100%"
                fxFlex.md="100%"
                fxFlex.sm="100%"
                fxFlex.xs="100%"
            >
                <mat-form-field
                    fxFill
                    appearance="outline"
                >
                <mat-label>Nombre</mat-label>
                <input
                    name="name"
                    formControlName="name"
                    type="text"
                    autocomplete="off"
                    maxlength="100"
                    matInput
                >
                    <mat-error *ngIf="controlsForm['name'].hasError('required')">
                        El nombre es <strong>requerido</strong>.
                    </mat-error>
                    <mat-error *ngIf="controlsForm['name'].hasError('maxlength')">
                        Se ha excedido el límite de caracteres
                    </mat-error>
                </mat-form-field>
            </div>
            <div
                fxFlex.xl="100%"
                fxFlex.lg="100%"
                fxFlex.md="100%"
                fxFlex.sm="100%"
                fxFlex.xs="100%"
            >
              <div class="ng-autocomplete">
                <mat-label>Jerarquía</mat-label>
                <ng-autocomplete #ngAutoCompleteHierarchy
                  [data]="hierarchyList"
                  notFoundText="No se escontraron resultados"
                  formControlName="hierarchyName"
                  [initialValue]="defaultValueHierarchy"
                  placeholder="Ingresa una jerarquía"
                  [searchKeyword]="keywordSearch"
                  (selected)='selectedHierarchy($event)'
                  [itemTemplate]="itemTemplateStatic"
                  [notFoundTemplate]="notFoundTemplate"
                ></ng-autocomplete>

                <ng-template #itemTemplateStatic let-item>
                  <a [innerHTML]="item.name"></a>
                </ng-template>

                <ng-template #notFoundTemplate let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>

                <!-- <mat-error *ngIf="controlsForm['levelName'].hasError('required')">
                  El nivel es <strong>requerido</strong>.
                </mat-error> -->
              </div>
            </div>
            <div
                class="mt-3"
                fxFlex.xl="100%"
                fxFlex.lg="100%"
                fxFlex.md="100%"
                fxFlex.sm="100%"
                fxFlex.xs="100%"
            >
              <div class="ng-autocomplete">
                <mat-label>Área</mat-label>
                <ng-autocomplete #ngAutoCompleteArea
                  [data]="areaList"
                  notFoundText="No se escontraron resultados"
                  formControlName="areaName"
                  [initialValue]="defaultValueArea"
                  placeholder="Ingresa un área"
                  [searchKeyword]="keywordSearch"
                  (selected)='selectedArea($event)'
                  [itemTemplate]="itemTemplateStaticArea"
                  [notFoundTemplate]="notFoundTemplateArea"
                ></ng-autocomplete>

                <ng-template #itemTemplateStaticArea let-item>
                  <a [innerHTML]="item.name"></a>
                </ng-template>

                <ng-template #notFoundTemplateArea let-notFound>
                  <div [innerHTML]="notFound"></div>
                </ng-template>

                <!-- <mat-error *ngIf="controlsForm['levelName'].hasError('required')">
                  El nivel es <strong>requerido</strong>.
                </mat-error> -->
              </div>
            </div>
        </div>
    </mat-dialog-content>
    <mat-dialog-actions align="center">
        <button
            mat-mini-fab
            color="basic"
            matTooltip="Cerrar"
            type="button"
            (click)="closeModal()"
        >
            <mat-icon>close</mat-icon>
        </button>
        <button
            mat-mini-fab
            color="primary"
            matTooltip="Guardar"
            type="button"
            (click)="confirmSave(false)"
        >
            <mat-icon>save</mat-icon>
        </button>
        <button
            mat-raised-button
            color="primary"
            matTooltip="Guardar y Cerrar"
            type="submit"
        >
            <mat-icon>save</mat-icon> &nbsp;
            <mat-icon>cancel</mat-icon>
        </button>
    </mat-dialog-actions>
</form>
