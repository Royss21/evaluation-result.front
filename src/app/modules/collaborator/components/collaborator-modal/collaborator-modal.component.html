<button mat-icon-button class="close-button" mat-dialog-close>
  <mat-icon [inline]="true" class="close-icon">highlight_off</mat-icon>
</button>
<h2  mat-dialog-title>{{ modalTitle }}</h2>
<form
    class="p-3"
    autocomplete="off"
    [formGroup]="collaboratorFormGroup"
    (ngSubmit)="confirmSave()"
>
    <mat-dialog-content>
      <mat-card-subtitle class="fw-bold">Datos personales del colaborador</mat-card-subtitle>
      <div
        fxLayout.xs="column"
        fxLayout.sm="row"
        fxLayout.md="row"
        fxLayout.lg="row"
        fxLayout.xl="row"
        fxLayoutGap="10px"
      >
        <div
          fxFlex.xl="20"
          fxFlex.lg="20"
          fxFlex.md="20"
          fxFlex.sm="20"
          fxFlex.xs="100"
        >
          <mat-form-field fxFill appearance="outline">
          <mat-label>Nombre</mat-label>
          <input
            matInput
            StringOnly
            name="name"
            type="text"
            maxlength="200"
            autocomplete="off"
            formControlName="name"
          >
            <mat-error *ngIf="controlsForm['name'].hasError('required')">
              El nombre es <strong>requerido</strong>.
            </mat-error>
            <mat-error *ngIf="controlsForm['name'].hasError('maxlength')">
              Se ha excedido el límite de caracteres
            </mat-error>
          </mat-form-field>
        </div>
        <div
          fxFlex.xl="20"
          fxFlex.lg="20"
          fxFlex.md="20"
          fxFlex.sm="20"
          fxFlex.xs="100"
        >
          <mat-form-field fxFill appearance="outline">
            <mat-label>Segundo nombre(s)</mat-label>
            <input
              matInput
              StringOnly
              type="text"
              maxlength="200"
              name="middleName"
              autocomplete="off"
              formControlName="middleName"
            >
              <mat-error *ngIf="controlsForm['middleName'].hasError('required')">
                El segundo nombre es <strong>requerido</strong>.
              </mat-error>
              <mat-error *ngIf="controlsForm['middleName'].hasError('maxlength')">
                Se ha excedido el límite de caracteres
              </mat-error>
          </mat-form-field>
        </div>
        <div
          fxFlex.xl="40"
          fxFlex.lg="40"
          fxFlex.md="40"
          fxFlex.sm="40"
          fxFlex.xs="100"
        >
          <mat-form-field fxFill appearance="outline">
            <mat-label>Apellidos</mat-label>
          <input
            matInput
            StringOnly
            type="text"
            name="lastName"
            maxlength="200"
            autocomplete="off"
            formControlName="lastName"
          >
            <mat-error *ngIf="controlsForm['lastName'].hasError('required')">
              El apellido es <strong>requerido</strong>.
            </mat-error>
            <mat-error *ngIf="controlsForm['lastName'].hasError('maxlength')">
              Se ha excedido el límite de caracteres
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div
        fxLayout.xs="column"
        fxLayout.sm="row"
        fxLayout.md="row"
        fxLayout.lg="row"
        fxLayout.xl="row"
        fxLayoutGap="10px"
      >

        <div
          fxFlex.xl="40"
          fxFlex.lg="40"
          fxFlex.md="40"
          fxFlex.sm="40"
          fxFlex.xs="40"
        >
          <mat-form-field fxFill appearance="outline">
            <mat-label>Email</mat-label>
            <input
              matInput
              type="text"
              name="email"
              maxlength="200"
              autocomplete="off"
              formControlName="email"
            >
              <mat-error *ngIf="controlsForm['email'].hasError('required')">
                El número de documento es <strong>requerido</strong>.
              </mat-error>
              <mat-error *ngIf="controlsForm['email'].hasError('maxlength')">
                Se ha excedido el límite de caracteres
              </mat-error>
              <mat-error *ngIf="controlsForm['email'].hasError('email')">
                Debe ingresar un email válido
              </mat-error>
          </mat-form-field>
        </div>
        <div
          fxFlex.xl="40"
          fxFlex.lg="40"
          fxFlex.md="40"
          fxFlex.sm="40"
          fxFlex.xs="100"
        >
          <mat-form-field fxFill appearance="outline">
            <mat-label>Fecha nacimiento</mat-label>
            <input
              matInput
              formControlName="dateBirthday"
              [matDatepicker]="dpDateBirthday"
            >
            <mat-datepicker-toggle
              [for]="dpDateBirthday"
              matSuffix
            ></mat-datepicker-toggle>
            <mat-datepicker #dpDateBirthday></mat-datepicker>
          </mat-form-field>
        </div>
      </div>
      <div
        fxLayout.xs="column"
        fxLayout.sm="row"
        fxLayout.md="row"
        fxLayout.lg="row"
        fxLayout.xl="row"
        fxLayoutGap="10px"
      >
        <div
        fxFlex.xl="30"
        fxFlex.lg="30"
        fxFlex.md="30"
        fxFlex.sm="30"
        fxFlex.xs="100"
        >
          <mat-form-field fxFill appearance="outline">
            <mat-label>Tipo documento</mat-label>
            <mat-select [(value)]="selectedDocumentType" formControlName="identityDocumentId">
              <mat-option
                [value]="document.id"
                (click)="maxCharacter()"
                *ngFor="let document of documenTypeList"
              >
                {{document.name}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="controlsForm['identityDocumentId'].hasError('required')">
              El tipo de documento es <strong>requerido</strong>.
            </mat-error>
          </mat-form-field>
        </div>
        <div
          fxFlex.xl="30"
          fxFlex.lg="30"
          fxFlex.md="30"
          fxFlex.sm="30"
          fxFlex.xs="100"
        >
          <mat-form-field fxFill appearance="outline">
            <mat-label>Número documento</mat-label>
            <input
              matInput
              type="text"
              autocomplete="off"
              name="documentNumber"
              formControlName="documentNumber"
              [maxLength]="maxLengthDocumentType"
            >
              <mat-error *ngIf="controlsForm['documentNumber'].hasError('required')">
                El número de documento es <strong>requerido</strong>.
              </mat-error>
              <mat-error *ngIf="controlsForm['documentNumber'].hasError('maxlength')">
                Se ha excedido el límite de caracteres
              </mat-error>
          </mat-form-field>
        </div>
      </div>
      <mat-card-subtitle class="fw-bold">Datos del colaborador en la empresa</mat-card-subtitle>
      <div
        fxLayout.xs="column"
        fxLayout.sm="row"
        fxLayout.md="row"
        fxLayout.lg="row"
        fxLayout.xl="row"
        fxLayoutGap="10px"
      >
        <div
          fxFlex.xl="33"
          fxFlex.lg="33"
          fxFlex.md="33"
          fxFlex.sm="33"
          fxFlex.xs="100"
        >
          <mat-form-field fxFill appearance="outline">
            <mat-label>Gerencia</mat-label>
            <mat-select formControlName="gerencyId" (selectionChange)="onChangeGerency($event)">
              <mat-option *ngFor="let gerency of gerencyList" [value]="gerency.id">
                {{gerency.name}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="controlsForm['gerencyId'].hasError('required')">
              La gerencia es <strong>requerida</strong>.
            </mat-error>
          </mat-form-field>
        </div>
        <div
          fxFlex.xl="33"
          fxFlex.lg="33"
          fxFlex.md="33"
          fxFlex.sm="33"
          fxFlex.xs="100"
        >
          <mat-form-field fxFill appearance="outline">
            <mat-label>Área</mat-label>
            <mat-select formControlName="areaId" (selectionChange)="onChangeArea($event)">
              <mat-option *ngFor="let area of areaList" [value]="area.id">
                {{area.name}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="controlsForm['areaId'].hasError('required')">
              El área es <strong>requerida</strong>.
            </mat-error>
          </mat-form-field>
        </div>
        <div
        fxFlex.xl="33"
        fxFlex.lg="33"
        fxFlex.md="33"
        fxFlex.sm="33"
        fxFlex.xs="100"
      >
        <mat-form-field fxFill appearance="outline">
          <mat-label>Cargo</mat-label>
          <mat-select formControlName="chargeId">
            <mat-option *ngFor="let charge of chargeList" [value]="charge.id">
              {{charge.name}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="controlsForm['chargeId'].hasError('required')">
            El cargo es <strong>requerido</strong>.
          </mat-error>
        </mat-form-field>
      </div>
      </div>
      <div
        class="mt-3"
        fxLayout.xs="column"
        fxLayout.sm="row"
        fxLayout.md="row"
        fxLayout.lg="row"
        fxLayout.xl="row"
        fxLayoutGap="10px"
      >
        <div
          fxFlex.xl="33"
          fxFlex.lg="33"
          fxFlex.md="33"
          fxFlex.sm="33"
          fxFlex.xs="100"
        >
          <mat-form-field
            fxFill
            appearance="outline"
          >
            <mat-label>Fecha admisión</mat-label>
            <input
              matInput
              formControlName="dateAdmission"
              [matDatepicker]="dpDateAdmision"
            >
            <mat-datepicker-toggle
              [for]="dpDateAdmision"
              matSuffix
            ></mat-datepicker-toggle>
            <mat-datepicker #dpDateAdmision></mat-datepicker>

            <mat-error *ngIf="controlsForm['dateAdmission'].hasError('required')">
              La fecha de admisión es <strong>requerida</strong>.
            </mat-error>
          </mat-form-field>
        </div>
        <div
          fxFlex.xl="33"
          fxFlex.lg="33"
          fxFlex.md="33"
          fxFlex.sm="33"
          fxFlex.xs="100"
        >
          <mat-form-field
            fxFill
            appearance="outline"
          >
            <mat-label>Fecha egreso</mat-label>
            <input
              matInput
              formControlName="dateEgress"
              [matDatepicker]="dpDateEgress"
            >
            <mat-datepicker-toggle
              [for]="dpDateEgress"
              matSuffix
            ></mat-datepicker-toggle>
            <mat-datepicker #dpDateEgress></mat-datepicker>
          </mat-form-field>
        </div>
      </div>
    </mat-dialog-content>
    <mat-dialog-actions align="center">
        <button
            mat-mini-fab
            color="basic"
            matTooltip="Cerrar"
            type="button"
            (click)="closeModal()"
        >
            <mat-icon>close</mat-icon>
        </button>
        <button
          mat-mini-fab
          color="primary"
          matTooltip="Guardar"
          type="button"
          (click)="confirmSave(false)"
        >
            <mat-icon>save</mat-icon>
        </button>
        <button
            mat-raised-button
            color="primary"
            matTooltip="Guardar y Cerrar"
            type="submit"
        >
            <mat-icon>save</mat-icon> &nbsp;
            <mat-icon>cancel</mat-icon>
        </button>
    </mat-dialog-actions>
</form>
